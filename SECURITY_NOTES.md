# Ni bot 安全注意事项

## 🚨 关键安全警告

### 1. API密钥和凭据保护
- **永远不要**在日志、终端输出或截图中显示完整API密钥
- 使用环境变量存储敏感信息，不要硬编码在配置文件中
- Ni bot会自动脱敏常见密钥格式（仅显示前后4位）

### 2. 会话隔离风险
- 为不同用途创建独立的会话上下文
- 避免在敏感会话中加载不必要的技能
- 定期清理不再需要的会话数据

### 3. 第三方技能安全
- 仅从可信来源安装技能
- 审查技能代码 before 授予执行权限
- 使用沙箱模式运行未知技能

### 4. 网络暴露风险
- 不要将Ni bot实例暴露到公网
- 健康监控端点(8080端口)应仅在本地访问
- 使用防火墙限制不必要的网络访问

## 🔒 OpenClaw漏洞防护措施

Ni bot已内置防护以下OpenClaw类漏洞：

### 数据泄露防护
- ✅ 自动API密钥检测和脱敏
- ✅ 环境变量加密存储支持
- ✅ 敏感信息过滤日志输出

### 注入攻击防护  
- ✅ 提示注入攻击检测和阻止
- ✅ SQL注入和命令注入防护
- ✅ 恶意URL和文件路径验证

### 会话安全
- ✅ 严格的会话边界控制
- ✅ 防止跨会话数据泄露
- ✅ 独立的工具执行上下文

### 审计和监控
- ✅ 完整操作审计日志
- ✅ 实时异常行为检测
- ✅ 安全事件监控和告警

## ⚡ 紧急安全响应

### 如果发现安全漏洞：
1. 立即停止Ni bot实例
2. 检查审计日志中的异常活动
3. 轮换所有可能泄露的API密钥
4. 审查最近安装的技能和配置变更

### 可疑活动指标：
- 未知的工具调用或文件访问
- 异常的网络连接尝试
- 未经授权的配置修改
- 重复的失败认证尝试

## 🛡️ 安全最佳实践

### 环境配置
```bash
# 启用严格安全模式
export NIBOT_SECURITY_MODE=strict

# 启用API密钥保护
export NIBOT_REDACT_KEYS=true

# 配置审计日志
export NIBOT_AUDIT_LOG=/var/log/nibot/audit.log

# 启用沙箱执行
export NIBOT_EXEC_SANDBOX=1
```

### 权限控制
- 使用最小权限原则配置工具访问
- 为不同任务创建独立的会话
- 定期审查和更新策略配置

### 监控和审计
- 定期检查审计日志中的异常模式
- 监控健康端点的异常指标
- 设置日志轮转和归档策略

## 📞 安全支持

如果发现安全漏洞或需要安全咨询，请：
1. 查看项目文档中的安全章节
2. 检查最新的安全更新和补丁
3. 遵循安全最佳实践配置

---
*最后更新: 2026-02-27*